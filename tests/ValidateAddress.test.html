<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Delivery Manager</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic'
          rel='stylesheet' type='text/css'>
    <link href="../../Nerium.Global.Web/assets/css/adomanager/main.css" rel="stylesheet"/>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="../../Nerium.Global.Web/assets/vendor/qtip2/jquery.qtip.css" rel="stylesheet"/>
    <style>
        .test-scenario {
            margin-top: 70px;
            margin-bottom: 20px;
            border: 1px solid lightblue;
        }

        .test-name {
            background-color: lightblue;
            color: white;
            font-size: larger;
            display: block;
            padding: 10px;
        }

        .address-container {
            border: solid silver 1px;
            display: inline-block;
            padding: 1rem;
            color: gray;
            margin: 15px;

        }

        .mock-service-container {
            border: solid silver 1px;
            display: inline-block;
            padding: 1rem;
            color: gray;
            margin: 15px;
            width: 300px;
            font-size: small;
        }

        .address-description {
            font-size: .55rem;

        }

        .description {
            position: relative;
            font-size: .55rem;
            display: block;
            top: -.5rem;
            background-color: gray;
            color: silver;
            text-align: center;
            margin-top: 3px;
        }

        .address-container button {
            display: block;
            padding: 13px;
            font-size: small;
        }

        .address-container .underlying-model {
            margin-top: 20px;
            font-size: .75rem;
            color: gray;
            background-color: silver;
            display: block;
            padding: 10px;
        }

        .submit-status {
            display: block;
            color: silver;
            text-align: center;
            margin-top: 10px;
        }

        .not-ready {
            background-color: #8b0000;
            color: #cccc00;
        }

        .ready {
            background-color: green;
        }

        .address-container .app-input {
            display: block;
            margin: .25rem;
        }

        ::-webkit-input-placeholder {
            /* WebKit browsers */
            color: rgba(230, 230, 230, 0.77);
        }

        :-moz-placeholder {
            /* Mozilla Firefox 4 to 18 */
            color: rgba(230, 230, 230, 0.77);
            opacity: 1;
        }

        ::-moz-placeholder {
            /* Mozilla Firefox 19+ */
            color: rgba(230, 230, 230, 0.77);
            opacity: 1;
        }

        :-ms-input-placeholder {
            /* Internet Explorer 10+ */
            color: rgba(230, 230, 230, 0.77);
        }

    </style>
</head>
<body data-ng-app="app" style="padding: 2rem;">

The button "Get Suggested Address" calls the GetSuggestedAddress method on the directive.


<div data-ng-controller="obj_2_notValid_ctrl" class="test-scenario">

    <span class="test-name">obj_2_notValid</span>
    <ul>
        <li>Two address objects in parent scope</li>
        <li>Service returns not valid</li>
        <li>Service returns suggested address</li>
        <li>Parent address models should each update independently of each other</li>
    </ul>

    <span class="address-container">
        <span class="address-description">Primary Address (id={{primaryAddressId}})</span>
        <button ng-click="validAddressService.GetSuggestedAddress(primaryAddressId,   mockServicePrimaryReturn)">Get
            Suggested Address
        </button>

        <input ng-model="myPrimaryAddress.firstName" placeholder="First Name" class="app-input">
        <input ng-model="myPrimaryAddress.lastName" placeholder="Last Name" class="app-input">

        <!-- ng-attr-address-dentifier = "primary" |"secondary" -->
        <valid-address ng-attr-address="myPrimaryAddress"
                       ng-attr-addressidentifier="{{primaryAddressId}}"
                ></valid-address>
        <input ng-model="myPrimaryAddress.address1" placeholder="address1" class="app-input">
        <input ng-model="myPrimaryAddress.address2" placeholder="address2" class="app-input">
        <input ng-model="myPrimaryAddress.city" placeholder="city" class="app-input">
        <input ng-model="myPrimaryAddress.state" placeholder="state" class="app-input">
        <input ng-model="myPrimaryAddress.zip" placeholder="zip" class="app-input">
        <input ng-model="myPrimaryAddress.instructions" placeholder="Instructions" class="app-input">

        <span class="underlying-model">
            <span class="description">underlying model in parent</span>
            {{myPrimaryAddress.firstName}} {{myPrimaryAddress.lastName}} {{myPrimaryAddress.address1}} {{myPrimaryAddress.address2}} {{myPrimaryAddress.city}} {{myPrimaryAddress.state}} {{myPrimaryAddress.zip}} {{myPrimaryAddress.instructions}}
            <span ng-show="myPrimaryAddress.userApproved" class="submit-status ready">Ready to Save</span>
            <span ng-hide="myPrimaryAddress.userApproved" class="submit-status not-ready">Not Ready to Save</span>
        </span>
         <span class="underlying-model mock-service-container">mockServicePrimaryReturn
        {{mockServicePrimaryReturn}}
    </span>

    </span>

    <span class="address-container">
        <span class="address-description">Secondary Address</span>
        <button ng-click="validAddressService.GetSuggestedAddress(secondaryAddressId, mockServiceSecondaryReturn)">Get
            Suggested Address
        </button>

        <input ng-model="firstName" placeholder="First Name" class="app-input">
        <input ng-model="lastName" placeholder="Last Name" class="app-input">
        <valid-address ng-attr-address="mySecondaryAddress"
                       ng-attr-addressidentifier="{{secondaryAddressId}}"
                ></valid-address>
        <input ng-model="mySecondaryAddress.address1" placeholder="address1" class="app-input">
        <input ng-model="mySecondaryAddress.address2" placeholder="address2" class="app-input">
        <input ng-model="mySecondaryAddress.city" placeholder="city" class="app-input">
        <input ng-model="mySecondaryAddress.state" placeholder="state" class="app-input">
        <input ng-model="mySecondaryAddress.zip" placeholder="zip" class="app-input">
        <input ng-model="mySecondaryAddress.instructions" placeholder="Instructions" class="app-input">

        <span class="underlying-model">
            <span class="description">underlying model in parent</span>
            {{mySecondaryAddress.firstName}} {{mySecondaryAddress.lastName}} {{mySecondaryAddress.address1}} {{mySecondaryAddress.address2}} {{mySecondaryAddress.city}} {{mySecondaryAddress.state}} {{mySecondaryAddress.zip}} {{mySecondaryAddress.instructions}}
            <span ng-show="mySecondaryAddress.userApproved" class="submit-status ready">Ready to Save</span>
            <span ng-hide="mySecondaryAddress.userApproved" class="submit-status not-ready">Not Ready to Save</span>
        </span>


    <span class="underlying-model mock-service-container">mockServiceSecondaryReturn
        {{mockServiceSecondaryReturn}}
    </span>
    </span>


</div>


<!-- THE CASE WHERE THERE ARE NO ADDRESS OBJECTS, ONLY ADDRESS PROPERTIES
        FOR A SINGLE ADDRESS IN A PARENT SCOPE -->

<!-- THE CASE WHERE THERE ARE 2 ADDRESS OBJECTS IN A PARENT SCOPE
        AND THE SERVICE RETURNS SUGGESTED ADDRESSES FOR BOTH -->


<!-- THE CASE WHERE THERE ARE 2 ADDRESS OBJECTS IN A PARENT SCOPE
        AND THE SERVICE RETURNS A SUGGESTED ADDRESS FOR ONE
        AND NO SUGGESTED ADDRESS FOR THE OTHER -->

<!-- THE CASE WHERE THERE ARE 2 ADDRESS OBJECTS IN A PARENT SCOPE
        AND THE SERVICE DOES NOT RETURN SUGGESTED ADDRESSES FOR EITHER -->


<script src="../../Nerium.Global.Web/assets/vendor/jquery/dist/jquery.min.js"></script>
<script src="../../Nerium.Global.Web/assets/vendor/angular.js"></script>

<!-- ISOLATED UI DEV VENDOR SCRIPTS START -->

<script src="../../StaticUiDev/app/validAddress/validAddressDirective.js"></script>
<script src="../../StaticUiDev/app/validAddress/validAddressService.js"></script>


</body>
</html>